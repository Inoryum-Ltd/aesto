{"version":3,"sources":["script.js"],"names":["resizeGalleryImages","document","querySelectorAll","forEach","image","container","closest","width","getAttribute","height","style","flex","menuOpen","querySelector","addEventListener","body","classList","toggle","LoadMorePagination","setupLightbox","lazyLoadImages","html","darkLight","images","lightboxOverlay","createElement","className","appendChild","styleElement","closeLightbox","remove","overflow","textContent","head","lightboxImage","imageUrl","imageAlt","src","alt","lightboxContent","closeButton","innerHTML","add","event","target","lazyImageObserver","loadedClass","dataSrcAttribute","dataSrcsetAttribute","sourceSelector","lazyImages","slice","call","window","IntersectionObserver","entries","observer","entry","isIntersecting","lazyImage","hasAttribute","srcset","parentNode","lazySource","removeAttribute","unobserve","observe","hideLoadMoreButton","loadMoreButton","display","handleLoadMoreClick","e","preventDefault","disabled","pagination_next_page_number","pagination_available_pages_number","url","nextPageUrl","split","fetch","then","response","ok","text","data","wrapper","tempDiv","Array","from","element","nextLink","setAttribute","localStorage","setItem","console","log"],"mappings":"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","file":"app.min.js","sourcesContent":["\r\n\r\nmenuOpen();\r\nLoadMorePagination()\r\n\r\n// Call the function to start lazy loading\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n    setupLightbox();\r\n    lazyLoadImages();\r\n    resizeGalleryImages();\r\n});\r\n\r\n//gallery\r\nfunction resizeGalleryImages() {\r\n    var images = document.querySelectorAll('.kg-gallery-image img');\r\n    images.forEach(function (image) {\r\n      var container = image.closest('.kg-gallery-image');\r\n      var width = image.getAttribute('width');\r\n      var height = image.getAttribute('height');\r\n      var ratio = width / height;\r\n      container.style.flex = ratio + ' 1 0%';\r\n    });\r\n  }\r\n\r\n\r\n// Toggle the menu open and close when on mobile\r\nfunction menuOpen() {\r\n    const burgerButton = document.querySelector('.it-burger');\r\n    burgerButton.addEventListener('click', function () {\r\n        document.body.classList.toggle('it-head-open');\r\n    });\r\n}\r\n\r\n// Dark/Light Mode\r\n    \r\nvar html = document.querySelector('html'),\r\ndarkLight = document.querySelector('.it-dark-light')\r\ndarkLight.addEventListener('click', function(){\r\n   if(html.getAttribute('data-theme') === 'light'){\r\n       html.setAttribute('data-theme', 'dark')\r\n       localStorage.setItem('selected-theme', 'dark');\r\n   }else{\r\n       html.setAttribute('data-theme', 'light')\r\n       localStorage.setItem('selected-theme', 'light');\r\n   }\r\n   console.log(html.hasAttribute('data-theme'))\r\n})\r\n\r\n\r\n//Light Box\r\nfunction setupLightbox() {\r\n    const images = document.querySelectorAll('.kg-image-card .kg-image, .kg-gallery-image img ');\r\n    const lightboxOverlay = document.createElement('div');\r\n    lightboxOverlay.className = 'v-lightbox-overlay';\r\n    document.body.appendChild(lightboxOverlay);\r\n\r\n    const styles = `\r\n    .kg-image-card .kg-image, .kg-gallery-image img {\r\n      cursor: zoom-in;\r\n    }\r\n    .v-lightbox-overlay {\r\n      display: none;\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      background-color: rgba(0, 0, 0, 0.8);\r\n      z-index: 9999;\r\n      opacity: 0;\r\n      transition: opacity 0.3s ease, transform 0.3s ease;\r\n      overflow-y: auto;\r\n      overscroll-behavior: contain;\r\n    }\r\n    \r\n    .v-lightbox-overlay.show {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      opacity: 1;\r\n    }\r\n    \r\n    .v-lightbox-content {\r\n      position: relative;\r\n      max-width: 90%;\r\n      max-height: 90%;\r\n      animation: lightbox-fade-in 0.3s ease;\r\n    }\r\n    \r\n    @keyframes lightbox-fade-in {\r\n      0% {\r\n        opacity: 0;\r\n      }\r\n      100% {\r\n        opacity: 1;\r\n      }\r\n    }\r\n    \r\n    .v-lightbox-image {\r\n      display: block;\r\n      max-width: 100%;\r\n      max-height: 100%;\r\n      margin: 0 auto;\r\n    }\r\n    \r\n    .close-button {\r\n      position: absolute;\r\n      top: 10px;\r\n      right: 10px;\r\n      color: #fff;\r\n      font-size: 24px;\r\n      cursor: pointer;\r\n    }\r\n    \r\n    @media (max-width: 768px) {\r\n      .v-lightbox-overlay.show {\r\n        align-items: flex-start;\r\n      }\r\n    \r\n      .v-lightbox-content {\r\n        width: 90%;\r\n        max-height: 90vh;\r\n        animation: lightbox-fade-in 0.3s ease;\r\n      }\r\n    }\r\n    \r\n    `;\r\n\r\n    const styleElement = document.createElement('style');\r\n    styleElement.textContent = styles;\r\n    document.head.appendChild(styleElement);\r\n\r\n    function openLightbox(imageUrl, imageAlt) {\r\n      const lightboxImage = document.createElement('img');\r\n      lightboxImage.className = 'v-lightbox-image';\r\n      lightboxImage.src = imageUrl;\r\n      lightboxImage.alt = imageAlt;\r\n\r\n      const lightboxContent = document.createElement('div');\r\n      lightboxContent.className = 'v-lightbox-content';\r\n      lightboxContent.appendChild(lightboxImage);\r\n\r\n      const closeButton = document.createElement('span');\r\n      closeButton.className = 'close-button';\r\n      closeButton.innerHTML = '&times;';\r\n      closeButton.addEventListener('click', closeLightbox);\r\n      lightboxContent.appendChild(closeButton);\r\n\r\n      lightboxOverlay.innerHTML = '';\r\n      lightboxOverlay.appendChild(lightboxContent);\r\n      lightboxOverlay.classList.add('show');\r\n      document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    function closeLightbox() {\r\n      lightboxOverlay.classList.remove('show');\r\n      document.body.style.overflow = '';\r\n    }\r\n\r\n    images.forEach(function(image) {\r\n      image.addEventListener('click', function() {\r\n        const imageUrl = image.getAttribute('src');\r\n        const imageAlt = image.getAttribute('alt');\r\n        openLightbox(imageUrl, imageAlt);\r\n      });\r\n    });\r\n\r\n    lightboxOverlay.addEventListener('click', function(event) {\r\n      if (event.target === lightboxOverlay) {\r\n        closeLightbox();\r\n      }\r\n    });\r\n}\r\n\r\n\r\n    // Lazy Load (New Lazyload Script)\r\n    function lazyLoadImages() {\r\n        var lazyClass = \"lazy\";\r\n        var loadedClass = \"loaded\";\r\n        var dataSrcAttribute = \"data-src\";\r\n        var dataSrcsetAttribute = \"data-srcset\";\r\n        var sourceSelector = \"source\";\r\n      \r\n        var lazyImages = [].slice.call(document.querySelectorAll(\".\" + lazyClass));\r\n      \r\n        if (\"IntersectionObserver\" in window) {\r\n          var lazyImageObserver = new IntersectionObserver(function(entries, observer) {\r\n            entries.forEach(function(entry) {\r\n              if (entry.isIntersecting) {\r\n                var lazyImage = entry.target;\r\n      \r\n                // Check if data-src attribute exists before updating attributes\r\n                if (lazyImage.hasAttribute(dataSrcAttribute)) {\r\n                  lazyImage.src = lazyImage.getAttribute(dataSrcAttribute);\r\n                  lazyImage.srcset = lazyImage.getAttribute(dataSrcsetAttribute);\r\n                  \r\n                  // Convert sibling source elements\r\n                  var lazySources = lazyImage.parentNode.querySelectorAll(sourceSelector);\r\n                  lazySources.forEach(function(lazySource) {\r\n                    lazySource.srcset = lazySource.getAttribute(dataSrcsetAttribute);\r\n                    lazySource.removeAttribute(dataSrcsetAttribute);\r\n                  });\r\n      \r\n                  lazyImage.removeAttribute(dataSrcAttribute);\r\n                  lazyImage.removeAttribute(dataSrcsetAttribute);\r\n                  lazyImage.classList.add(loadedClass);\r\n                }\r\n      \r\n                lazyImageObserver.unobserve(lazyImage);\r\n              }\r\n            });\r\n          });\r\n      \r\n          lazyImages.forEach(function(lazyImage) {\r\n            lazyImageObserver.observe(lazyImage);\r\n          });\r\n        } else {\r\n          // Fallback for browsers without Intersection Observer\r\n          lazyImages.forEach(function(lazyImage) {\r\n            if (lazyImage.hasAttribute(dataSrcAttribute)) {\r\n              lazyImage.src = lazyImage.getAttribute(dataSrcAttribute);\r\n              lazyImage.srcset = lazyImage.getAttribute(dataSrcsetAttribute);\r\n              \r\n              // Convert sibling source elements\r\n              var lazySources = lazyImage.parentNode.querySelectorAll(sourceSelector);\r\n              lazySources.forEach(function(lazySource) {\r\n                lazySource.srcset = lazySource.getAttribute(dataSrcsetAttribute);\r\n                lazySource.removeAttribute(dataSrcsetAttribute);\r\n              });\r\n      \r\n              lazyImage.classList.add(loadedClass);\r\n              lazyImage.removeAttribute(dataSrcAttribute);\r\n              lazyImage.removeAttribute(dataSrcsetAttribute);\r\n            }\r\n          });\r\n        }\r\n      }\r\n\r\nfunction LoadMorePagination() {\r\n\r\n    // Hide the load more button\r\n    function hideLoadMoreButton() {\r\n    if (loadMoreButton) {\r\n        loadMoreButton.style.display = 'none';\r\n    }\r\n    }\r\n\r\n    // Append HTML elements to a wrapper element\r\n    function appendElements(wrapper, elements) {\r\n    elements.forEach(function(element) {\r\n        wrapper.appendChild(element);\r\n    });\r\n    }\r\n\r\n    // Update pagination state and button status\r\n    function updatePaginationState() {\r\n    pagination_next_page_number++;\r\n    loadMoreButton.classList.remove('loading');\r\n    loadMoreButton.disabled = false;\r\n\r\n    if (pagination_next_page_number > pagination_available_pages_number) {\r\n        loadMoreButton.disabled = true;\r\n    }\r\n    }\r\n\r\n    // Handle click event for the load more button\r\n    function handleLoadMoreClick(e) {\r\n    e.preventDefault();\r\n    loadMoreButton.classList.add('loading');\r\n    loadMoreButton.disabled = true;\r\n\r\n    if (pagination_next_page_number <= pagination_available_pages_number) {\r\n        var url = nextPageUrl.split(/page/)[0] + 'page/' + pagination_next_page_number + '/';\r\n        fetch(url)\r\n        .then(function(response) {\r\n            if (response.ok) {\r\n            return response.text();\r\n            }\r\n        })\r\n        .then(function(data) {\r\n            var tempDiv = document.createElement('div');\r\n            tempDiv.innerHTML = data;\r\n            var wrapper = document.querySelector('.it-postfeed');\r\n            var html = Array.from(tempDiv.querySelectorAll('.post'));\r\n            appendElements(wrapper, html);\r\n            updatePaginationState();\r\n            lazyLoadImages();\r\n        });\r\n    }\r\n    }\r\n\r\n    // Main script\r\n    var nextLink = document.querySelector('link[rel=next]');\r\n    var nextPageUrl, loadMoreButton, endMessage;\r\n\r\n    // Check if there is a next link\r\n    if (nextLink !== null) {\r\n    nextPageUrl = nextLink.getAttribute('href');\r\n    loadMoreButton = document.querySelector('.it-load-posts');\r\n\r\n    // Check if the next page URL is undefined\r\n    if (typeof nextPageUrl === 'undefined') {\r\n        hideLoadMoreButton();\r\n    } else {\r\n        // Attach click event handler to the load more button\r\n        loadMoreButton.addEventListener('click', handleLoadMoreClick);\r\n    }\r\n    } else {\r\n    var paginationWrap = document.querySelector('.it-pagination');\r\n    // Hide the load more button if there is no next link and a pagination wrapper is present\r\n    if (paginationWrap !== null) {\r\n        hideLoadMoreButton();\r\n    }\r\n    }\r\n}"]}