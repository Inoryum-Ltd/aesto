!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).LazyLoad=n()}(this,function(){"use strict";function n(){return(n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}).apply(this,arguments)}function l(t){return n({},W,t)}function i(t,n){var e,a=new t(n);try{e=new CustomEvent("LazyLoad::Initialized",{detail:{instance:a}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:a})}window.dispatchEvent(e)}function E(t,n){return t.getAttribute("data-"+n)}function I(t,n,e){var a="data-"+n;null!==e?t.setAttribute(a,e):t.removeAttribute(a)}function b(t){return E(t,"ll-status")}function y(t,n){return I(t,"ll-status",n)}function h(t){return y(t,null),0}function m(t){return null===b(t)}function o(t){return"native"===b(t)}function A(t,n,e,a){t&&(void 0===a?void 0===e?t(n):t(n,e):t(n,e,a))}function L(t,n){K?t.classList.add(n):t.className+=(t.className?" ":"")+n}function w(t,n){K?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}function z(t){return t.llTempImage}function k(t,n){var e;!n||(e=n._observer)&&e.unobserve(t)}function O(t,n){t&&(t.loadingCount+=n)}function s(t,n){t&&(t.toLoadCount=n)}function a(t){for(var n,e=[],a=0;n=t.children[a];a+=1)"SOURCE"===n.tagName&&e.push(n);return e}function e(t,n,e){e&&t.setAttribute(n,e)}function r(t,n){t.removeAttribute(n)}function c(t){return!!t.llOriginalAttrs}function u(t){var n;c(t)||((n={}).src=t.getAttribute("src"),n.srcset=t.getAttribute("srcset"),n.sizes=t.getAttribute("sizes"),t.llOriginalAttrs=n)}function C(t){var n;c(t)&&(n=t.llOriginalAttrs,e(t,"src",n.src),e(t,"srcset",n.srcset),e(t,"sizes",n.sizes))}function d(t,n){e(t,"sizes",E(t,n.data_sizes)),e(t,"srcset",E(t,n.data_srcset)),e(t,"src",E(t,n.data_src))}function N(t){r(t,"src"),r(t,"srcset"),r(t,"sizes")}function x(t,n){var e=t.parentNode;e&&"PICTURE"===e.tagName&&a(e).forEach(n)}function f(t,n){a(t).forEach(n)}function _(t,n){var e=Y[t.tagName];e&&e(t,n)}function M(t,n,e){O(e,1),L(t,n.class_loading),y(t,"loading"),A(n.callback_loading,t,e)}function g(t,n){var e,a,i=Z[t.tagName];i?i(t,n):(I(e=t,(a=n).data_bg,null),I(e,a.data_bg_hidpi,null))}function v(t,n){!n||0<n.loadingCount||0<n.toLoadCount||A(t.callback_finish,n)}function p(t,n,e){t.addEventListener(n,e),t.llEvLisnrs[n]=e}function R(t){return!!t.llEvLisnrs}function G(t){if(R(t)){var n=t.llEvLisnrs;for(var e in n){var a=n[e];i=e,r=a,t.removeEventListener(i,r)}delete t.llEvLisnrs}var i,r}function T(t,n,e){delete t.llTempImage,O(e,-1),e&&--e.toLoadCount,w(t,n.class_loading),n.unobserve_completed&&k(t,e)}function D(e,a,i){var r=z(e)||e;R(r)||function(t){R(t)||(t.llEvLisnrs={});var n="VIDEO"===t.tagName?"loadeddata":"load";p(t,n,function(t){!function(t,n,e,a){var i=o(n);T(n,e,a),L(n,e.class_loaded),y(n,"loaded"),g(n,e),A(e.callback_loaded,n,a),i||v(e,a)}(0,e,a,i),G(r)}),p(t,"error",function(t){!function(t,n,e,a){var i=o(n);T(n,e,a),L(n,e.class_error),y(n,"error"),A(e.callback_error,n,a),i||v(e,a)}(0,e,a,i),G(r)})}(r)}function F(t,n,e){var a,i,r,o,l,s,c,u,d,f,_,g,v,p,b,h,m;t.llTempImage=document.createElement("IMG"),D(t,n,e),p=e,b=E(g=t,(v=n).data_bg),h=E(g,v.data_bg_hidpi),(m=Q&&h?h:b)&&(g.style.backgroundImage='url("'.concat(m,'")'),z(g).setAttribute("src",m),M(g,v,p)),r=e,d=E(a=t,(i=n).data_bg_multi),f=E(a,i.data_bg_multi_hidpi),(_=Q&&f?f:d)&&(a.style.backgroundImage=_,s=r,L(o=a,(l=i).class_applied),y(o,"applied"),I(c=o,(u=l).data_bg_multi,null),I(c,u.data_bg_multi_hidpi,null),l.unobserve_completed&&k(o,l),A(l.callback_applied,o,s))}function V(t,n,e){var a,i,r;-1<tt.indexOf(t.tagName)?(D(a=t,i=n,r=e),_(a,i),M(a,i,r)):F(t,n,e)}function j(t){return t.use_native&&"loading"in HTMLImageElement.prototype}function P(t,v,p){t.forEach(function(t){return t.isIntersecting||0<t.intersectionRatio?(d=t.target,f=t,_=v,g=p,y(d,"entered"),_.unobserve_entered&&k(d,g),A(_.callback_enter,d,f,g),void(0<=X.indexOf(b(d))||V(d,_,g))):(n=t.target,e=t,a=v,i=p,void(m(n)||(r=n,o=e,s=i,(l=a).cancel_on_exit&&"loading"===b(r)&&"IMG"===r.tagName&&(G(r),x(u=r,function(t){N(t)}),N(u),x(c=r,function(t){C(t)}),C(c),w(r,l.class_loading),O(s,-1),h(r),A(l.callback_cancel,r,o,s)),A(a.callback_exit,n,e,i))));var n,e,a,i,r,o,l,s,c,u,d,f,_,g})}function S(t){return Array.prototype.slice.call(t)}function U(t){return t.container.querySelectorAll(t.elements_selector)}function $(t){return"error"===b(t)}function q(t,n){return e=t||U(n),S(e).filter(m);var e}function t(t,n){var a,i,e,r,o=l(t);this._settings=o,this.loadingCount=0,e=o,r=this,J&&!j(e)&&(r._observer=new IntersectionObserver(function(t){P(t,e,r)},{root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"})),a=o,i=this,H&&window.addEventListener("online",function(){var n,t,e;t=i,e=U(n=a),S(e).filter($).forEach(function(t){w(t,n.class_error),h(t)}),t.update()}),this.update(n)}var H="undefined"!=typeof window,B=H&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),J=H&&"IntersectionObserver"in window,K=H&&"classList"in document.createElement("p"),Q=H&&1<window.devicePixelRatio,W={elements_selector:".lazy",container:B||H?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},X=["loading","loaded","applied","error"],Y={IMG:function(t,n){x(t,function(t){u(t),d(t,n)}),u(t),d(t,n)},IFRAME:function(t,n){e(t,"src",E(t,n.data_src))},VIDEO:function(t,n){f(t,function(t){e(t,"src",E(t,n.data_src))}),e(t,"poster",E(t,n.data_poster)),e(t,"src",E(t,n.data_src)),t.load()}},Z={IMG:function(t,n){I(t,n.data_src,null),I(t,n.data_srcset,null),I(t,n.data_sizes,null),x(t,function(t){I(t,n.data_srcset,null),I(t,n.data_sizes,null)})},IFRAME:function(t,n){I(t,n.data_src,null)},VIDEO:function(t,n){I(t,n.data_src,null),I(t,n.data_poster,null),f(t,function(t){I(t,n.data_src,null)})}},tt=["IMG","IFRAME","VIDEO"],nt=["IMG","IFRAME"];return t.prototype={update:function(t){var n,e,a,i,r,o=this._settings,l=q(t,o);s(this,l.length),!B&&J?j(o)?(i=o,r=this,l.forEach(function(t){var n,e;-1!==nt.indexOf(t.tagName)&&(t.setAttribute("loading","lazy"),D(n=t,e=i,r),_(n,e),g(n,e),y(n,"native"))}),s(r,0)):(e=l,(n=this._observer).disconnect(),a=n,e.forEach(function(t){a.observe(t)})):this.loadAll(l)},destroy:function(){this._observer&&this._observer.disconnect(),U(this._settings).forEach(function(t){delete t.llOriginalAttrs}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var n=this,e=this._settings;q(t,e).forEach(function(t){k(t,n),V(t,e,n)})}},t.load=function(t,n){var e=l(n);V(t,e)},t.resetStatus=function(t){h(t)},H&&function(t,n){if(n)if(n.length)for(var e,a=0;e=n[a];a+=1)i(t,e);else i(t,n)}(t,window.lazyLoadOptions),t});
//# sourceMappingURL=lazyload.min.js.map